{"openapi":"3.0.1","info":{"title":"ibooking API","description":"ibooking 自习室预订","version":"v0.0.1"},"servers":[{"url":"http://119.45.10.26:8000","description":"Generated server url"}],"tags":[{"name":"学生接口","description":"操作描述"},{"name":"自习室接口","description":"操作描述"},{"name":"登录接口","description":"返回result与token"},{"name":"预约接口","description":"操作描述"}],"paths":{"/student":{"get":{"tags":["学生接口"],"summary":"学生列表","description":"添加描述","operationId":"list","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDO"}}}}}}},"post":{"tags":["学生接口"],"operationId":"add","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentDO"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/register":{"post":{"tags":["api-user"],"operationId":"add_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/booking":{"post":{"tags":["预约接口"],"summary":"预约","description":"预约某个座位","operationId":"booking","parameters":[{"name":"token","in":"header","description":"Token","required":true}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingDO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingResponse"}}}}}}},"/auth":{"post":{"tags":["登录接口"],"summary":"登录","description":"返回result与token","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/student/{stuNum}":{"get":{"tags":["学生接口"],"operationId":"query","parameters":[{"name":"stuNum","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDO"}}}}}}},"/room":{"get":{"tags":["自习室接口"],"summary":"自习室列表","description":"添加描述","operationId":"roomList","parameters":[{"name":"token","in":"header","description":"需要传入Token验证","content":{"*/*":{"schema":{"type":"string"}}}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StudyRoomDO"}}}}}}}},"/room/{roomId}":{"get":{"tags":["自习室接口"],"summary":"座位列表","description":"某时段某自习室的座位列表","operationId":"seatList","parameters":[{"name":"roomId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"period","in":"query","description":"座位时间段","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"date","in":"query","required":true,"schema":{"type":"string","format":"date-time"}},{"name":"token","in":"header","description":"Token","required":true}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SeatDO"}}}}}}}},"/bookingHistory":{"get":{"tags":["预约接口"],"summary":"预约历史","description":"某学生的历史预约记录","operationId":"bookingHistory","parameters":[{"name":"token","in":"header","description":"Token","required":true}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BookingDO"}}}}}}}}},"components":{"schemas":{"StudentDO":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"stuNum":{"type":"string"},"name":{"type":"string"},"password":{"type":"string"}}},"UserDO":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"stuNum":{"type":"string"},"name":{"type":"string"},"pass_hash":{"type":"string"},"salt":{"type":"string"},"isAdmin":{"type":"boolean"},"username":{"type":"string"}}},"BookingDO":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"seatId":{"type":"integer","format":"int32"},"stuId":{"type":"integer","format":"int32"},"bookingPeriod":{"type":"integer","format":"int32"},"bookingDate":{"type":"string","format":"date-time"}}},"BookingResponse":{"type":"object","properties":{"result":{"type":"string"},"message":{"type":"string"}}},"AuthResponse":{"type":"object","properties":{"result":{"type":"string"},"message":{"type":"string"},"token":{"type":"string"}}},"StudyRoomDO":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"buildingNum":{"type":"string"},"classroomNum":{"type":"string"}}},"SeatDO":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"roomId":{"type":"integer","format":"int32"},"posX":{"type":"integer","format":"int32"},"posY":{"type":"integer","format":"int32"},"isAvailble":{"type":"boolean"}}}}}}
